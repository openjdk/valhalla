/*
 * Copyright (c) 2026, Oracle and/or its affiliates. All rights reserved.
 * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS FILE HEADER.
 *
 * This code is free software; you can redistribute it and/or modify it
 * under the terms of the GNU General Public License version 2 only, as
 * published by the Free Software Foundation.
 *
 * This code is distributed in the hope that it will be useful, but WITHOUT
 * ANY WARRANTY; without even the implied warranty of MERCHANTABILITY or
 * FITNESS FOR A PARTICULAR PURPOSE.  See the GNU General Public License
 * version 2 for more details (a copy is included in the LICENSE file that
 * accompanied this code).
 *
 * You should have received a copy of the GNU General Public License version
 * 2 along with this work; if not, write to the Free Software Foundation,
 * Inc., 51 Franklin St, Fifth Floor, Boston, MA 02110-1301 USA.
 *
 * Please contact Oracle, 500 Oracle Parkway, Redwood Shores, CA 94065 USA
 * or visit www.oracle.com if you need additional information or have any
 * questions.
 */

// This uses jcod to prevent javac from meddling with the minor version.
/*
class NullRestrictionOffender {
    @NullRestricted
    Integer barField;

    NullRestrictionOffender() {
        barField = 5;
        super();
    }
}
*/

class runtime/valhalla/inlinetypes/classfileparser/NullRestrictionOffender {
  0xCAFEBABE;
  0;                                       // minor version
  70;                                      // version
  [] {                                     // Constant Pool
    ;                                      // first element is empty
    Method #2 #3;                          // #1
    class #4;                              // #2
    NameAndType #5 #6;                     // #3
    Utf8 "java/lang/Integer";              // #4
    Utf8 "valueOf";                        // #5
    Utf8 "(I)Ljava/lang/Integer;";         // #6
    Field #8 #9;                           // #7
    class #10;                             // #8
    NameAndType #11 #12;                   // #9
    Utf8 "runtime/valhalla/inlinetypes/classfileparser/NullRestrictionOffender";  // #10
    Utf8 "barField";                       // #11
    Utf8 "Ljava/lang/Integer;";            // #12
    Method #14 #15;                        // #13
    class #16;                             // #14
    NameAndType #17 #18;                   // #15
    Utf8 "java/lang/Object";               // #16
    Utf8 "<init>";                         // #17
    Utf8 "()V";                            // #18
    Utf8 "RuntimeVisibleAnnotations";      // #19
    Utf8 "Ljdk/internal/vm/annotation/NullRestricted;";  // #20
    Utf8 "Code";                           // #21
    Utf8 "LineNumberTable";                // #22
    Utf8 "SourceFile";                     // #23
    Utf8 "NullRestrictionWithoutPreview.java";  // #24
  }

  0x0020;                                  // access
  #8;                                      // this_cpx
  #14;                                     // super_cpx

  [] {                                     // Interfaces
  }                                        // end of Interfaces

  [] {                                     // Fields
    {                                      // field
      0x0000;                              // access
      #11;                                 // name_index
      #12;                                 // descriptor_index
      [] {                                 // Attributes
        Attr(#19) {                        // RuntimeVisibleAnnotations
          [] {                             // annotations
            {                              // annotation
              #20;
              [] {                         // element_value_pairs
              }                            // element_value_pairs
            }                              // annotation
          }
        }                                  // end of RuntimeVisibleAnnotations
      }                                    // end of Attributes
    }
  }                                        // end of Fields

  [] {                                     // Methods
    {                                      // method
      0x0000;                              // access
      #17;                                 // name_index
      #18;                                 // descriptor_index
      [] {                                 // Attributes
        Attr(#21) {                        // Code
          2;                               // max_stack
          1;                               // max_locals
          Bytes[]{
            0x2A 0x08 0xB8 0x00 0x01 0xB5 0x00 0x07 0x2A 0xB7 0x00 0x0D;
            0xB1;
          }
          [] {                             // Traps
          }                                // end of Traps
          [] {                             // Attributes
            Attr(#22) {                    // LineNumberTable
              [] {                         // line_number_table
                   0   55;
                   8   56;
                  12   57;
              }
            }                              // end of LineNumberTable
          }                                // end of Attributes
        }                                  // end of Code
      }                                    // end of Attributes
    }
  }                                        // end of Methods

  [] {                                     // Attributes
    Attr(#23) {                            // SourceFile
      #24;
    }                                      // end of SourceFile
  }                                        // end of Attributes
}
